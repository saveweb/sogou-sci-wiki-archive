<!DOCTYPE html><html class="" data-reactroot=""><head><meta charSet="utf-8"/><meta name="save" content="history"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="baidu-site-verification" content="VWGb6TyYx8"/><meta content="霍夫变换 - 搜狗科学百科" name="keywords"/><meta content="搜狗科学百科是一部有着平等、协作、分享、自由理念的网络科学全书，为每一个互联网用户创造一个涵盖所有领域知识、服务的中文知识性平台。" name="description"/><meta http-equiv="x-dns-prefetch-control" content="on"/><meta name="server" baike="235" ip="210" env="online"/><link rel="dns-prefetch" href="//cache.soso.com"/><link rel="dns-prefetch" href="//hhy.sogoucdn.com"/><link rel="dns-prefetch" href="//pic.baike.soso.com"/><link rel="dns-prefetch" href="//ugc.qpic.cn"/><link rel="dns-prefetch" href="//xui.ptlogin2.qq.com"/><link rel="dns-prefetch" href="//q1.qlogo.cn"/><link rel="dns-prefetch" href="//q2.qlogo.cn"/><link rel="dns-prefetch" href="//q3.qlogo.cn"/><link rel="dns-prefetch" href="//q4.qlogo.cn"/><link rel="dns-prefetch" href="//q.qlogo.cn"/><link rel="dns-prefetch" href="//img01.sogoucdn.com"/><link rel="dns-prefetch" href="//img02.sogoucdn.com"/><link rel="dns-prefetch" href="//img03.sogoucdn.com"/><link rel="dns-prefetch" href="//img04.sogoucdn.com"/><link rel="Shortcut Icon" href="//www.sogou.com/images/logo/new/favicon.ico?v=4"/><link rel="Bookmark" href="//www.sogou.com/images/logo/new/favicon.ico?v=4"/><link href="//hhy.sogoucdn.com/deploy/ued/new_baike/pc/dist/css/base_b849887.css" rel="stylesheet"/><link href="//hhy.sogoucdn.com/deploy/ued/new_baike/pc/dist/css/detail/detail_378aed5.css" rel="stylesheet"/><link href="//hhy.sogoucdn.com/deploy/ued/new_baike/pc/dist/css/inviteAudit/inviteAudit_7894507.css" rel="stylesheet"/><link rel="stylesheet" href="//hhy.sogoucdn.com/js/lib/highlight/highlight.min.css"/><title>霍夫变换 - 搜狗科学百科</title></head><body><script>window._gtag=window._gtag||{};window._gtag.shouldGrayed = false;if ('082f9ee2e5034e06920a0bb0d68548e1') window._gtag.traceId = '082f9ee2e5034e06920a0bb0d68548e1';if ({"illegality":true}) window.userInfo = {"illegality":true};</script><div class="topnavbox"><ul class="topnav"><li><a href="//www.sogou.com/web?query=">网页</a></li><li><a href="//weixin.sogou.com/weixin?p=75351201">微信</a></li><li><a href="//zhihu.sogou.com/zhihu?p=75351218">知乎</a></li><li><a href="//pic.sogou.com/pics?query=">图片</a></li><li><a href="//v.sogou.com/v?query=">视频</a></li><li><a href="//mingyi.sogou.com/">医疗</a></li><li class="cur"><strong>科学</strong></li><li><a href="//hanyu.sogou.com/">汉语</a></li><li><a href="//wenwen.sogou.com/">问问</a></li><li><a href="//www.sogou.com/docs/more.htm">更多<span class="topraquo">»</span></a></li></ul></div><div id="header"><div class="header-wrap"><a class="header-logo" href="/kexue"></a><div class="header-search"><div class="querybox" id="suggBox"></div></div><div class="header-rgt"><span class="btn-header-rgt btn-edit" id="editLemma">创建</span><div class="header-user no-login"></div></div></div></div><div class="fixed-placeholder" style="visibility:none"></div><div id="container" class=""><div class="content lemma-level2"><div class="detail-title" id="abstract-title"><h1>霍夫变换</h1><a href="#!" class="detail-edit">编辑</a></div><div class="section_content" data-id="41518855037677327"><div class="text_img ed_imgfloat_right"><a class="ed_image_link" data-src="https://img03.sogoucdn.com/app/a/200698/968_513_20200609170243-699970438.png" data-bigsrc="https://img03.sogoucdn.com/app/a/200698/968_513_20200609170243-699970438.png?width=231&amp;height=174&amp;titlename=%E9%9C%8D%E5%A4%AB%E5%8F%98%E6%8D%A2%E6%A3%80%E6%B5%8B%E7%9B%B4%E7%BA%BF%E7%9A%84%E6%95%88%E6%9E%9C%E5%9B%BE&amp;w=968&amp;h=513" title="点击查看大图" data-w="968" data-h="513" style="background-image:url(https://img03.sogoucdn.com/app/a/200698/968_513_20200609170243-699970438.png)" href="#!"></a><div class="text_img_title">霍夫变换检测直线的效果图</div></div><div><p>霍夫变换是一种特征检测(feature extraction)，被广泛应用在图像分析（image analysis）、计算机视觉(computer vision)以及数位影像处理(digital image processing)。霍夫变换是用来辨别找出物件中的特征，例如：线条。他的算法流程大致如下，给定一个物件、要辨别的形状的种类，算法会在参数空间(parameter space)中执行投票来决定物体的形状，而这是由累加空间(accumulator space)里的局部最大值(local maximum)来决定。</p></div></div><div id="catalog"></div><div id="paragraphs"></div><div id="references"></div><div class="read-num">阅读 <!-- -->1822</div></div><div class="right-side" id="rightSide"></div></div><div class="footer-box"><div id="footer"><div class="footer-logo-wrap"><div class="footer-logo"></div><div class="footer-logo-text">知识·传播·科普</div></div><div class="footer-info">本网站内容采用<a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0/deed.zh?tdsourcetag=s_pctim_aiomsg">CC-BY-SA 3.0</a>授权</div><div class="footer-btn-wrap"><a target="_blank" href="https://baike.sogou.com/help/#user_protocol">用户协议</a><a target="_blank" href="http://www.sogou.com/docs/terms.htm?v=1">免责声明</a><a target="_blank" href="http://corp.sogou.com/private.html">隐私政策</a><a target="_blank" href="https://baike.sogou.com/kexue/intro.htm">关于我们</a></div></div></div><script>window.lemmaInfo ={"lemmaId":"19775880125490442","versionId":"42347381055843850","title":"霍夫变换","subtitle":"","abstracts":{"paragraphId":"41518855037677327","title":"摘要","versionId":"42347381055843851","lemmaId":19775880125490440,"createType":0,"creator":{"uid":0,"name":null,"pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"createTime":0,"versionEditor":{"uid":80347648,"name":"任博","pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"editTime":1592537006,"comment":null,"dependVersionId":0,"contentType":2,"content":"<p>霍夫变换是一种特征检测(feature extraction)，被广泛应用在图像分析（image analysis）、计算机视觉(computer vision)以及数位影像处理(digital image processing)。霍夫变换是用来辨别找出物件中的特征，例如：线条。他的算法流程大致如下，给定一个物件、要辨别的形状的种类，算法会在参数空间(parameter space)中执行投票来决定物体的形状，而这是由累加空间(accumulator space)里的局部最大值(local maximum)来决定。</p>","pics":[{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/968_513_20200609170243-699970438.png?width=231&height=174&titlename=%E9%9C%8D%E5%A4%AB%E5%8F%98%E6%8D%A2%E6%A3%80%E6%B5%8B%E7%9B%B4%E7%BA%BF%E7%9A%84%E6%95%88%E6%9E%9C%E5%9B%BE&w=968&h=513","url":"https://img03.sogoucdn.com/app/a/200698/968_513_20200609170243-699970438.png","rw":968,"rh":513,"title":"霍夫变换检测直线的效果图","alt":null,"width":231,"height":174}],"card":null,"references":[],"versionCount":0},"card":{"paragraphId":"41518855037677323","title":"基本信息","versionId":"42347381055843852","lemmaId":19775880125490440,"createType":0,"creator":{"uid":0,"name":null,"pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"createTime":0,"versionEditor":{"uid":80347648,"name":"任博","pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"editTime":1592537006,"comment":null,"dependVersionId":0,"contentType":3,"content":"","pics":null,"card":{"cardItems":[{"key":"中文名","value":"霍夫变换"},{"key":"英文名","value":"Hough Transform"},{"key":"提出者","value":"PaulHough"},{"key":"提出时间","value":"1962"},{"key":"学科范畴","value":"计算机科学"},{"key":"应用领域","value":"计算机图像处理"}]},"references":[],"versionCount":0},"categories":[{"id":371,"name":"计算机图像处理","parents":[[{"id":1,"name":"计算机","parents":null},{"id":367,"name":"计算机应用","parents":null}]]}],"creator":{"uid":10145103,"name":"柚子otto","pic":"https://img02.sogoucdn.com/app/a/200698/1152_1152_1864088_20200427232849-1518843971.png","introduction":"","educations":[{"schoolName":"中国地质大学（北京）","major":"","degree":"本科","universityId":22,"universityLogo":"https://img01.sogoucdn.com/app/a/200943/d3465c1c-6011-11e9-b353-fc4dd4f70029","majorLevel1":"理学","majorLevel2":"地理学","majorLevel3":"地图学与地理信息系统","majorLevel1Id":1,"majorLevel2Id":103,"majorLevel3Id":109,"state":"毕业","lab":"","researchField":""}],"jobs":[{"company":"搜狗","title":"产品经理"}],"works":null,"educationBrief":"中国地质大学（北京）","jobBrief":"产品经理","role":0,"roleName":null,"title":"中国地质大学（北京） · 地理学本科","professionalTitle":null,"phoneNo":null,"editable":true,"partnerId":139,"partnerIdCreateTime":1595844881,"partnerIdPoped":true},"createTime":1579083343,"editor":{"uid":80347648,"name":"是任任啊啊啊啊","pic":"https://img02.sogoucdn.com/app/a/200698/972_972_1775418_20200608110552-1485544582.png","introduction":null,"educations":[{"schoolName":"国防科技大学","major":"","degree":null,"universityId":84,"universityLogo":"http://img01.sogoucdn.com/app/a/200698/gfkjdxlogo","majorLevel1":"工学","majorLevel2":"光学工程","majorLevel3":"光学工程","majorLevel1Id":353,"majorLevel2Id":401,"majorLevel3Id":403,"state":null,"lab":null,"researchField":null}],"jobs":null,"works":null,"educationBrief":"国防科技大学","jobBrief":"","role":0,"roleName":null,"title":"国防科技大学 · 光学工程","professionalTitle":null,"phoneNo":null,"editable":true,"partnerId":0,"partnerIdCreateTime":1593568961,"partnerIdPoped":false},"editTime":1592537006,"state":1,"versionCount":1,"upNum":1,"downNum":0,"pics":[{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/968_513_20200609170243-699970438.png?width=231&height=174&titlename=%E9%9C%8D%E5%A4%AB%E5%8F%98%E6%8D%A2%E6%A3%80%E6%B5%8B%E7%9B%B4%E7%BA%BF%E7%9A%84%E6%95%88%E6%9E%9C%E5%9B%BE&w=968&h=513","url":"https://img03.sogoucdn.com/app/a/200698/968_513_20200609170243-699970438.png","rw":968,"rh":513,"title":"霍夫变换检测直线的效果图","alt":null,"width":231,"height":174},{"originalUrl":"https://img02.sogoucdn.com/app/a/200698/260_209_20200612220934-1285879917.png?w=260&h=209&titlename=","url":"https://img02.sogoucdn.com/app/a/200698/260_209_20200612220934-1285879917.png","rw":260,"rh":209,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/294_120_20200612215136-1832566148.png?w=294&h=120&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/294_120_20200612215136-1832566148.png","rw":294,"rh":120,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/529_253_20200612210627-219107071.png?w=529&h=253&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/529_253_20200612210627-219107071.png","rw":529,"rh":253,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img01.sogoucdn.com/app/a/200698/499_248_20200612211816-679128036.png?w=499&h=248&titlename=","url":"https://img01.sogoucdn.com/app/a/200698/499_248_20200612211816-679128036.png","rw":499,"rh":248,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/605_237_20200612215422-1974144923.png?w=605&h=237&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/605_237_20200612215422-1974144923.png","rw":605,"rh":237,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/968_329_20200612215621-32988522.png?w=968&h=329&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/968_329_20200612215621-32988522.png","rw":968,"rh":329,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img02.sogoucdn.com/app/a/200698/873_268_20200612220214-1505473239.png?w=873&h=268&titlename=","url":"https://img02.sogoucdn.com/app/a/200698/873_268_20200612220214-1505473239.png","rw":873,"rh":268,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img02.sogoucdn.com/app/a/200698/958_299_20200612220533-969667720.png?w=958&h=299&titlename=","url":"https://img02.sogoucdn.com/app/a/200698/958_299_20200612220533-969667720.png","rw":958,"rh":299,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img01.sogoucdn.com/app/a/200698/594_220_20200612221107-1393121902.png?w=594&h=220&titlename=","url":"https://img01.sogoucdn.com/app/a/200698/594_220_20200612221107-1393121902.png","rw":594,"rh":220,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/940_299_20200612222139-1270863864.png?w=940&h=299&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/940_299_20200612222139-1270863864.png","rw":940,"rh":299,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/1089_311_20200612222200-943057484.png?w=1089&h=311&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/1089_311_20200612222200-943057484.png","rw":1089,"rh":311,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/687_516_20200619104433-910470451.jpg?w=687&h=516&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/687_516_20200619104433-910470451.jpg","rw":687,"rh":516,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104839-867257578.png?w=862&h=686&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104839-867257578.png","rw":862,"rh":686,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img02.sogoucdn.com/app/a/200698/862_686_20200619104850-265511191.png?w=862&h=686&titlename=","url":"https://img02.sogoucdn.com/app/a/200698/862_686_20200619104850-265511191.png","rw":862,"rh":686,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104859-899377216.png?w=862&h=686&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104859-899377216.png","rw":862,"rh":686,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/1390_633_20200619110933-1413908447.jpg?w=1390&h=633&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/1390_633_20200619110933-1413908447.jpg","rw":1390,"rh":633,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img01.sogoucdn.com/app/a/200698/457_630_20200619110957-1289259133.jpg?w=457&h=630&titlename=","url":"https://img01.sogoucdn.com/app/a/200698/457_630_20200619110957-1289259133.jpg","rw":457,"rh":630,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/465_81_20200613170413-1982866122.png?w=465&h=81&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/465_81_20200613170413-1982866122.png","rw":465,"rh":81,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/316_256_20200613170451-1927317474.png?w=316&h=256&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/316_256_20200613170451-1927317474.png","rw":316,"rh":256,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img01.sogoucdn.com/app/a/200698/290_133_20200613170925-442691320.png?w=290&h=133&titlename=","url":"https://img01.sogoucdn.com/app/a/200698/290_133_20200613170925-442691320.png","rw":290,"rh":133,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/290_125_20200613171012-1809327412.png?w=290&h=125&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/290_125_20200613171012-1809327412.png","rw":290,"rh":125,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/375_363_20200613171152-1377141831.png?w=375&h=363&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/375_363_20200613171152-1377141831.png","rw":375,"rh":363,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/385_314_20200613180755-33636475.png?w=385&h=314&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/385_314_20200613180755-33636475.png","rw":385,"rh":314,"title":"","alt":null,"width":0,"height":0}],"catalogs":[{"level":1,"title":"霍夫变换概述","paragraphId":"41518855037677324","subCatalogs":null},{"level":1,"title":"霍夫线变换","paragraphId":"41518855037677325","subCatalogs":[{"level":2,"title":"霍夫线变换原理","paragraphId":"41518855037677325","subCatalogs":null},{"level":2,"title":"标准霍夫变换","paragraphId":"41518855037677325","subCatalogs":null},{"level":2,"title":"累计概率霍夫变换","paragraphId":"41518855037677325","subCatalogs":null}]},{"level":1,"title":"霍夫圆变换","paragraphId":"41518855037677326","subCatalogs":[{"level":2,"title":"霍夫圆变换原理","paragraphId":"41518855037677326","subCatalogs":null},{"level":2,"title":"霍夫梯度法","paragraphId":"41518855037677326","subCatalogs":null},{"level":2,"title":"霍夫圆变换：HoughCircles()函数","paragraphId":"41518855037677326","subCatalogs":null}]},{"level":1,"title":"参考文献","paragraphId":"-1","subCatalogs":null}],"paragraphs":[{"paragraphId":"41518855037677324","title":"霍夫变换概述","versionId":"42347381055843853","lemmaId":19775880125490440,"createType":0,"creator":{"uid":0,"name":null,"pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"createTime":0,"versionEditor":{"uid":80347648,"name":"任博","pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"editTime":1592537006,"comment":null,"dependVersionId":0,"contentType":1,"content":"<p>霍夫变换是图像处理中的一种特征提取技术，该过程在一个参数空间中通过计算累计结果的局部最大值得到一个符合该特定形状的集合作为霍夫变换的结果。</p><p>霍夫变换（Hough Transform）是在1959年由气泡室（Bubble Chamber）照片的机器分析而发明，发明者Paul Hough在1962年获得美国专利，被命名为Method and Means for Recognizing Complex Patterns（用于识别复杂图案的方法和手段）。该专利对直线采用斜截距参数化，但由于斜率可能变成无穷大，这有可能导致无限变换空间（unbounded transform space）。最初的Hough变换是设计用来检测直线和曲线的。起初的方法要求知道物体边界线的解析方程，但是不需要有关区域位置的先验知识。这种方法的一个突出优点是分割结果的鲁棒性（Robustness）,即对数据的不完全或噪声不是非常敏感。然而，要获得描述边界的解析表达常常是不可能的。</p><p>后来于1972年由Richard Duda &amp; Peter Hart推广使用<sup><a href=\"#quote_1\" class=\"kx_ref\">[1]</a></sup>，经典霍夫变换用来检测图像中的直线，后来霍夫变换扩展到任意形状的物体识别，多为圆或者椭圆。然后1981年在Dana H. Ballard的计算机视觉社区中出现一篇文章名为 Generalizing the Hough transform to detect arbitrary shapes<sup><a href=\"#quote_2\" class=\"kx_ref\">[2]</a></sup>，从而推广开来。</p><p>霍夫变换运用两个坐标之间的变换将在一个空间中具有相同形状的曲线或直线映射到另一个坐标空间的一个点上形成峰值，从而把检测任意形状的问题转化为统计峰值的问题。</p>","pics":null,"card":null,"references":[],"versionCount":0},{"paragraphId":"41518855037677325","title":"霍夫线变换","versionId":"42347381055843854","lemmaId":19775880125490440,"createType":0,"creator":{"uid":0,"name":null,"pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"createTime":0,"versionEditor":{"uid":80347648,"name":"任博","pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"editTime":1592537006,"comment":null,"dependVersionId":0,"contentType":1,"content":"<h3>霍夫线变换原理</h3><p>一条直线可由两个点A=(X1,Y1)和B=(X2,Y2)确定(笛卡尔坐标)：</p><p><img width=\"260\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img02.sogoucdn.com/app/a/200698/260_209_20200612220934-1285879917.png\" data-src=\"https://img02.sogoucdn.com/app/a/200698/260_209_20200612220934-1285879917.png\"></p><p>另一方面，在笛卡尔坐标系中y=kx+q也可以写成关于（k,q）的函数表达式（霍夫空间）：</p><p><img width=\"294\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img03.sogoucdn.com/app/a/200698/294_120_20200612215136-1832566148.png\" data-src=\"https://img03.sogoucdn.com/app/a/200698/294_120_20200612215136-1832566148.png\"></p><p>对应的变换可以通过图形直观表示为下图：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img04.sogoucdn.com/app/a/200698/529_253_20200612210627-219107071.png\" data-src=\"https://img04.sogoucdn.com/app/a/200698/529_253_20200612210627-219107071.png\"></p><p>变换后的空间成为霍夫空间。即：笛卡尔坐标系中一条直线，对应霍夫空间的一个点。反过来同样成立（霍夫空间的一条直线，对应笛卡尔坐标系的一个点），如图3所示：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img01.sogoucdn.com/app/a/200698/499_248_20200612211816-679128036.png\" data-src=\"https://img01.sogoucdn.com/app/a/200698/499_248_20200612211816-679128036.png\"></p><p>笛卡尔坐标系中A、B两个点对应霍夫空间的情形：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img03.sogoucdn.com/app/a/200698/605_237_20200612215422-1974144923.png\" data-src=\"https://img03.sogoucdn.com/app/a/200698/605_237_20200612215422-1974144923.png\">三个点共线的情况：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img04.sogoucdn.com/app/a/200698/968_329_20200612215621-32988522.png\" data-src=\"https://img04.sogoucdn.com/app/a/200698/968_329_20200612215621-32988522.png\">可以看出如果笛卡尔坐标系的点共线，这些点在霍夫空间对应的直线交于一点：这也是必然，共线只有一种取值可能。当并不是所有点都共线的时候，会出现下面所示的情况：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img02.sogoucdn.com/app/a/200698/873_268_20200612220214-1505473239.png\" data-src=\"https://img02.sogoucdn.com/app/a/200698/873_268_20200612220214-1505473239.png\">其实（3，2）与（4，1）也可以组成直线，只不过它有两个点确定，而图中A、B两点是由三条直线汇成，这也是霍夫变换的后处理的基本方式：选择由尽可能多直线汇成的点。</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img02.sogoucdn.com/app/a/200698/958_299_20200612220533-969667720.png\" data-src=\"https://img02.sogoucdn.com/app/a/200698/958_299_20200612220533-969667720.png\"></p><p>但是使用笛卡尔坐标系时k=∞是不方便表示的，因此考虑将笛卡尔坐标系换为极坐标表示：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img01.sogoucdn.com/app/a/200698/594_220_20200612221107-1393121902.png\" data-src=\"https://img01.sogoucdn.com/app/a/200698/594_220_20200612221107-1393121902.png\">在极坐标系下，极坐标的点对应霍夫空间的直线，只不过霍夫空间不再是[k,q]的参数，而是[ρ,θ]的参数，给出对比图：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img03.sogoucdn.com/app/a/200698/940_299_20200612222139-1270863864.png\" data-src=\"https://img03.sogoucdn.com/app/a/200698/940_299_20200612222139-1270863864.png\"><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img04.sogoucdn.com/app/a/200698/1089_311_20200612222200-943057484.png\" data-src=\"https://img04.sogoucdn.com/app/a/200698/1089_311_20200612222200-943057484.png\"></p><h3>标准霍夫变换</h3><p>在OpenCV中HoughLines函数可以实现上述原理提到的标准霍夫变换，检测步骤如下:</p><p>1、对边缘图像进行霍夫空间变换；</p><p>2、在4邻域内找到霍夫空间变换的极大值；</p><p>3、对这些极大值安装由大到小顺序进行排序，极大值越大，越有可能是直线，这里极大值指的是霍夫空间中相交于某一点的曲线的数目的极大值；</p><p>4、输出直线。</p><p>HoughLines函数是在OpenCV中是这样定义的：</p><pre class=\"kx_code\" contenteditable=\"false\" data-lang=\"c_cpp\">void cv::HoughLines( InputArray _image, OutputArray _lines,\n                     double rho, double theta, int threshold,\n                     double srn, double stn )\n{\n    //申请一段内存，用于存储霍夫变换后所检测到的直线\n    Ptr&lt;CvMemStorage&gt; storage = cvCreateMemStorage(STORAGE_SIZE);\n    //提取输入图像矩阵\n    Mat image = _image.getMat();\n    CvMat c_image = image;\n    //调用由C语音写出的霍夫变换的函数\n    CvSeq* seq = cvHoughLines2( &amp;c_image, storage, srn == 0 &amp;&amp; stn == 0 ?\n                    CV_HOUGH_STANDARD : CV_HOUGH_MULTI_SCALE,\n                    rho, theta, threshold, srn, stn );\n    //把由cvHoughLines2函数得到的霍夫变换直线序列转换为数组\n    seqToMat(seq, _lines);\n}</pre><p>以下面这幅图为例，展示OpenCV中经典霍夫理论的处理效果：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img03.sogoucdn.com/app/a/200698/687_516_20200619104433-910470451.jpg\" data-src=\"https://img03.sogoucdn.com/app/a/200698/687_516_20200619104433-910470451.jpg\">对这一图片先进行<a class=\"kx_inner_link bind-inner-link\" href=\"javascript:;\" data-id=\"36877864942983681\" data-realtitle=\"Canny边缘检测\">Canny边缘检测</a>，再做标准直线霍夫检测：</p><pre class=\"kx_code\" contenteditable=\"false\" data-lang=\"c_cpp\">//-----------------------------------【头文件包含部分】---------------------------------------  \n//      描述：包含程序所依赖的头文件  \n//----------------------------------------------------------------------------------------------   \n#include &lt;opencv2/opencv.hpp&gt;  \n#include &lt;opencv2/imgproc/imgproc.hpp&gt;  \n\n//-----------------------------------【命名空间声明部分】---------------------------------------  \n//      描述：包含程序所使用的命名空间  \n//-----------------------------------------------------------------------------------------------   \nusing namespace cv;\n//-----------------------------------【main( )函数】--------------------------------------------  \n//      描述：控制台应用程序的入口函数，我们的程序从这里开始  \n//-----------------------------------------------------------------------------------------------  \nint main()\n{\n    //【1】载入原始图和Mat变量定义     \n    Mat srcImage = imread(\"1.jpg\");  //工程目录下应该有一张名为1.jpg的素材图  \n    Mat midImage, dstImage;//临时变量和目标图的定义  \n\n    //【2】进行边缘检测和转化为灰度图  \n    Canny(srcImage, midImage, 50, 200, 3);//进行一此canny边缘检测  \n    cvtColor(midImage, dstImage, CV_GRAY2BGR);//转化边缘检测后的图为灰度图  \n\n    //【3】进行霍夫线变换  \n    vector&lt;Vec2f&gt; lines;//定义一个矢量结构lines用于存放得到的线段矢量集合  \n    HoughLines(midImage, lines, 1, CV_PI / 180, 150, 0, 0);\n\n    //【4】依次在图中绘制出每条线段  \n    for (size_t i = 0; i &lt; lines.size(); i++)\n    {\n        float rho = lines[i][0], theta = lines[i][1];\n        Point pt1, pt2;\n        double a = cos(theta), b = sin(theta);\n        double x0 = a*rho, y0 = b*rho;\n        pt1.x = cvRound(x0 + 1000 * (-b));\n        pt1.y = cvRound(y0 + 1000 * (a));\n        pt2.x = cvRound(x0 - 1000 * (-b));\n        pt2.y = cvRound(y0 - 1000 * (a));\n        line(dstImage, pt1, pt2, Scalar(55, 100, 195), 1, CV_AA);\n    }\n\n    //【5】显示原始图    \n    imshow(\"【原始图】\", srcImage);\n\n    //【6】边缘检测后的图   \n    imshow(\"【边缘检测后的图】\", midImage);\n\n    //【7】显示效果图    \n    imshow(\"【效果图】\", dstImage);\n\n    waitKey(0);\n\n    return 0;\n}</pre><p>&nbsp;得到的效果图如下：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104839-867257578.png\" data-src=\"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104839-867257578.png\"><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img02.sogoucdn.com/app/a/200698/862_686_20200619104850-265511191.png\" data-src=\"https://img02.sogoucdn.com/app/a/200698/862_686_20200619104850-265511191.png\"><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104859-899377216.png\" data-src=\"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104859-899377216.png\"></p><p>Houghlines的计算效率比较低O(n*n*m)，耗时较长，而且没有检测出直线的端点。累计概率霍夫直线检测HoughlinesP是一个改进，不仅执行效率较高，而且能检测到直线的两个端点。</p><h3>累计概率霍夫变换</h3><p>累计概率霍夫变换思想大致如下：</p><p>先随机检测出一部分直线，然后将直线上点的排查掉，再进行其他直线的检测</p><p>1.首先仅统计图像中非零点的个数，对于已经确认是某条直线上的点就不再变换了；</p><p>2. 对所以有非零点逐个变换到霍夫空间</p><p>&nbsp;&nbsp;&nbsp;&nbsp;a. 并累加到霍夫统计表(图像)中，并统计最大值</p><p>&nbsp;&nbsp;&nbsp;&nbsp;b. 最大值与阈值比较，小于阈值，则继续下一个点的变换</p><p>&nbsp;&nbsp;&nbsp;&nbsp;c. 若大于阈值，则有一个新的直线段要产生了</p><p>&nbsp;&nbsp;&nbsp;&nbsp;d. 计算直线上线段的端点、长度，如果符合条件，则保存此线段，并mark这个线段上的点不参与其他线段检测的变换。</p><p>累计概率霍夫变换在HoughLines的基础上末尾加了一个代表Probabilistic（概率）的P，表明它可以采用累计概率霍夫变换（PPHT）来找出二值图像中的直线。</p><p>HoughLinesP( )函数在OpenCV中的调用如下：<br></p><pre class=\"kx_code\" contenteditable=\"false\" data-lang=\"c_cpp\">C++: void HoughLinesP(InputArray image, OutputArray lines, double rho, double theta, int threshold, double minLineLength=0, double maxLineGap=0 )</pre><ul><li><p>第一个参数，InputArray类型的image，输入图像，即源图像，需为8位的单通道二进制图像，可以将任意的源图载入进来后由函数修改成此格式后，再填在这里。</p></li><li><p>第二个参数，InputArray类型的lines，经过调用HoughLinesP函数后后存储了检测到的线条的输出矢量，每一条线由具有四个元素的矢量(x_1,y_1, x_2, y_2）&nbsp; 表示，其中，(x_1, y_1)和(x_2, y_2) 是是每个检测到的线段的结束点。</p></li><li><p>第三个参数，double类型的rho，以像素为单位的距离精度。另一种形容方式是直线搜索时的进步尺寸的单位半径。</p></li><li><p>第四个参数，double类型的theta，以弧度为单位的角度精度。另一种形容方式是直线搜索时的进步尺寸的单位角度。</p></li><li><p>第五个参数，int类型的threshold，累加平面的阈值参数，即识别某部分为图中的一条直线时它在累加平面中必须达到的值。大于阈值threshold的线段才可以被检测通过并返回到结果中。</p></li><li><p>第六个参数，double类型的minLineLength，有默认值0，表示最低线段的长度，比这个设定参数短的线段就不能被显现出来。</p></li><li><p>第七个参数，double类型的maxLineGap，有默认值0，允许将同一行点与点之间连接起来的最大的距离。</p></li></ul><p>HoughLinesP示例程序：</p><pre class=\"kx_code\" contenteditable=\"false\" data-lang=\"c_cpp\">//-----------------------------------【头文件包含部分】---------------------------------------\n//\t\t描述：包含程序所依赖的头文件\n//---------------------------------------------------------------------------------------------- \n#include &lt;opencv2/opencv.hpp&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n \n//-----------------------------------【命名空间声明部分】---------------------------------------\n//\t\t描述：包含程序所使用的命名空间\n//----------------------------------------------------------------------------------------------- \nusing namespace cv;\n//-----------------------------------【main( )函数】--------------------------------------------\n//\t\t描述：控制台应用程序的入口函数，我们的程序从这里开始\n//-----------------------------------------------------------------------------------------------\nint main( )\n{\n\t//【1】载入原始图和Mat变量定义   \n\tMat srcImage = imread(\"1.jpg\");  //工程目录下应该有一张名为1.jpg的素材图\n\tMat midImage,dstImage;//临时变量和目标图的定义\n \n\t//【2】进行边缘检测和转化为灰度图\n\tCanny(srcImage, midImage, 50, 200, 3);//进行一此canny边缘检测\n\tcvtColor(midImage,dstImage, CV_GRAY2BGR);//转化边缘检测后的图为灰度图\n \n\t//【3】进行霍夫线变换\n\tvector&lt;Vec4i&gt; lines;//定义一个矢量结构lines用于存放得到的线段矢量集合\n\tHoughLinesP(midImage, lines, 1, CV_PI/180, 80, 50, 10 );\n \n\t//【4】依次在图中绘制出每条线段\n\tfor( size_t i = 0; i &lt; lines.size(); i++ )\n\t{\n\t\tVec4i l = lines[i];\n\t\tline( dstImage, Point(l[0], l[1]), Point(l[2], l[3]), Scalar(186,88,255), 1, CV_AA);\n\t}\n \n\t//【5】显示原始图  \n\timshow(\"【原始图】\", srcImage);  \n \n\t//【6】边缘检测后的图 \n\timshow(\"【边缘检测后的图】\", midImage);  \n \n\t//【7】显示效果图  \n\timshow(\"【效果图】\", dstImage);  \n \n\twaitKey(0);  \n \n\treturn 0;  \n}</pre><p>其运行结果如下：</p><p><img width=\"480\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img03.sogoucdn.com/app/a/200698/1390_633_20200619110933-1413908447.jpg\" data-src=\"https://img03.sogoucdn.com/app/a/200698/1390_633_20200619110933-1413908447.jpg\"><img width=\"457\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img01.sogoucdn.com/app/a/200698/457_630_20200619110957-1289259133.jpg\" data-src=\"https://img01.sogoucdn.com/app/a/200698/457_630_20200619110957-1289259133.jpg\">可以看到，HoughlinesP可以获得更好的直线检测效果，并且检测到的直线有端点。</p>","pics":[{"originalUrl":"https://img02.sogoucdn.com/app/a/200698/260_209_20200612220934-1285879917.png?w=260&h=209&titlename=","url":"https://img02.sogoucdn.com/app/a/200698/260_209_20200612220934-1285879917.png","rw":260,"rh":209,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/294_120_20200612215136-1832566148.png?w=294&h=120&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/294_120_20200612215136-1832566148.png","rw":294,"rh":120,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/529_253_20200612210627-219107071.png?w=529&h=253&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/529_253_20200612210627-219107071.png","rw":529,"rh":253,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img01.sogoucdn.com/app/a/200698/499_248_20200612211816-679128036.png?w=499&h=248&titlename=","url":"https://img01.sogoucdn.com/app/a/200698/499_248_20200612211816-679128036.png","rw":499,"rh":248,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/605_237_20200612215422-1974144923.png?w=605&h=237&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/605_237_20200612215422-1974144923.png","rw":605,"rh":237,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/968_329_20200612215621-32988522.png?w=968&h=329&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/968_329_20200612215621-32988522.png","rw":968,"rh":329,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img02.sogoucdn.com/app/a/200698/873_268_20200612220214-1505473239.png?w=873&h=268&titlename=","url":"https://img02.sogoucdn.com/app/a/200698/873_268_20200612220214-1505473239.png","rw":873,"rh":268,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img02.sogoucdn.com/app/a/200698/958_299_20200612220533-969667720.png?w=958&h=299&titlename=","url":"https://img02.sogoucdn.com/app/a/200698/958_299_20200612220533-969667720.png","rw":958,"rh":299,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img01.sogoucdn.com/app/a/200698/594_220_20200612221107-1393121902.png?w=594&h=220&titlename=","url":"https://img01.sogoucdn.com/app/a/200698/594_220_20200612221107-1393121902.png","rw":594,"rh":220,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/940_299_20200612222139-1270863864.png?w=940&h=299&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/940_299_20200612222139-1270863864.png","rw":940,"rh":299,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/1089_311_20200612222200-943057484.png?w=1089&h=311&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/1089_311_20200612222200-943057484.png","rw":1089,"rh":311,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/687_516_20200619104433-910470451.jpg?w=687&h=516&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/687_516_20200619104433-910470451.jpg","rw":687,"rh":516,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104839-867257578.png?w=862&h=686&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104839-867257578.png","rw":862,"rh":686,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img02.sogoucdn.com/app/a/200698/862_686_20200619104850-265511191.png?w=862&h=686&titlename=","url":"https://img02.sogoucdn.com/app/a/200698/862_686_20200619104850-265511191.png","rw":862,"rh":686,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104859-899377216.png?w=862&h=686&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/862_686_20200619104859-899377216.png","rw":862,"rh":686,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/1390_633_20200619110933-1413908447.jpg?w=1390&h=633&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/1390_633_20200619110933-1413908447.jpg","rw":1390,"rh":633,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img01.sogoucdn.com/app/a/200698/457_630_20200619110957-1289259133.jpg?w=457&h=630&titlename=","url":"https://img01.sogoucdn.com/app/a/200698/457_630_20200619110957-1289259133.jpg","rw":457,"rh":630,"title":"","alt":null,"width":0,"height":0}],"card":null,"references":[],"versionCount":0},{"paragraphId":"41518855037677326","title":"霍夫圆变换","versionId":"42347381055843855","lemmaId":19775880125490440,"createType":0,"creator":{"uid":0,"name":null,"pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"createTime":0,"versionEditor":{"uid":80347648,"name":"任博","pic":null,"introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":null,"jobBrief":null,"role":0,"roleName":null,"title":null,"professionalTitle":null,"phoneNo":null,"editable":false,"partnerId":0,"partnerIdCreateTime":0,"partnerIdPoped":false},"editTime":1592537006,"comment":null,"dependVersionId":0,"contentType":1,"content":"<h3>霍夫圆变换原理</h3><p>霍夫圆变换的基本思路是认为图像上每一个非零像素点都有可能是一个潜在的圆上的一点，跟霍夫线变换一样，也是通过投票，生成累积坐标平面，设置一个累积权重来定位圆。</p><p>在笛卡尔坐标系中圆的方程为：</p><p><img width=\"465\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img03.sogoucdn.com/app/a/200698/465_81_20200613170413-1982866122.png\" data-src=\"https://img03.sogoucdn.com/app/a/200698/465_81_20200613170413-1982866122.png\"><img width=\"316\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img03.sogoucdn.com/app/a/200698/316_256_20200613170451-1927317474.png\" data-src=\"https://img03.sogoucdn.com/app/a/200698/316_256_20200613170451-1927317474.png\">其中（a,b）是圆心，r是半径，也可以表述为：</p><p><img width=\"290\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img01.sogoucdn.com/app/a/200698/290_133_20200613170925-442691320.png\" data-src=\"https://img01.sogoucdn.com/app/a/200698/290_133_20200613170925-442691320.png\">即：</p><p><img width=\"290\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img03.sogoucdn.com/app/a/200698/290_125_20200613171012-1809327412.png\" data-src=\"https://img03.sogoucdn.com/app/a/200698/290_125_20200613171012-1809327412.png\"></p><p>所以在abr组成的三维坐标系中，一个点可以唯一确定一个圆。</p><p>而在笛卡尔的xy坐标系中经过某一点的所有圆映射到abr坐标系中就是一条三维的曲线：</p><p><img width=\"375\" class=\"kx_img ed_imgfloat_embedmiddle\" titlename=\"\" bigsrc=\"https://img04.sogoucdn.com/app/a/200698/375_363_20200613171152-1377141831.png\" data-src=\"https://img04.sogoucdn.com/app/a/200698/375_363_20200613171152-1377141831.png\">经过xy坐标系中所有的非零像素点的所有圆就构成了abr坐标系中很多条三维的曲线。在xy坐标系中同一个圆上的所有点的圆方程是一样的，它们映射到abr坐标系中的是同一个点，所以在abr坐标系中该点就应该有圆的总像素N0个曲线相交。通过判断abr中每一点的相交（累积）数量，大于一定阈值的点就认为是圆。</p><p>以上是标准霍夫圆变换实现算法，问题是它的累加面试一个三维的空间，意味着比霍夫线变换需要更多的计算消耗，因此标准霍夫圆变化很难被应用到实际中。</p><h3>霍夫梯度法</h3><p>Opencv霍夫圆变换对标准霍夫圆变换做了运算上的优化。它采用的是“霍夫梯度法”。它的检测思路是去遍历累加所有非零点对应的圆心，对圆心进行考量。圆心一定是在圆上的每个点的模向量上，即在垂直于该点并且经过该点的切线的垂直线上，这些圆上的模向量的交点就是圆心。霍夫梯度法就是要去查找这些圆心，根据该“圆心”上模向量相交数量的多少，根据阈值进行最终的判断。</p><p><img width=\"385\" class=\"kx_img ed_imgfloat_embedmiddle currentPic\" titlename=\"\" bigsrc=\"https://img04.sogoucdn.com/app/a/200698/385_314_20200613180755-33636475.png\" data-src=\"https://img04.sogoucdn.com/app/a/200698/385_314_20200613180755-33636475.png\"></p><p>OpenCV中霍夫梯度法的具体步骤为：</p><p>1）首先对图像进行边缘检测，调用opencv自带的cvCanny()函数，将图像二值化，得到边缘图像。</p><p>2）对边缘图像上的每一个非零点。采用cvSobel()函数，计算x方向导数和y方向的导数，从而得到梯度。从边缘点，沿着梯度和梯度的反方向，对参数指定的min_radius到max_radium的每一个像素，在累加器中被累加。同时记下边缘图像中每一个非0点的位置。</p><p>3）从（二维）累加器中这些点中选择候选中心。这些中心都大于给定的阈值和其相邻的四个邻域点的累加值。4）对于这些候选中心按照累加值降序排序，以便于最支持的像素的中心首次出现。</p><p>5）对于每一个中心，考虑到所有的非0像素（非0，梯度不为0），这些像素按照与其中心的距离排序，从最大支持的中心的最小距离算起，选择非零像素最支持的一条半径。</p><p>6）如果一个中心受到边缘图像非0像素的充分支持，并且到前期被选择的中心有足够的距离。则将圆心和半径压入到序列中，得以保留。</p><p>霍夫梯度法的缺点</p><p>&lt;1&gt;在霍夫梯度法中，我们使用Sobel导数来计算局部梯度，那么随之而来的假设是，其可以视作等同于一条局部切线，并这个不是一个数值稳定的做法。在大多数情况下，这样做会得到正确的结果，但或许会在输出中产生一些噪声。</p><p>&lt;2&gt;在边缘图像中的整个非0像素集被看做每个中心的候选部分。因此，如果把累加器的阈值设置偏低，算法将要消耗比较长的时间。第三，因为每一个中心只选择一个圆，如果有同心圆，就只能选择其中的一个。</p><p>&lt;3&gt;因为中心是按照其关联的累加器值的升序排列的，并且如果新的中心过于接近之前已经接受的中心的话，就不会被保留下来。且当有许多同心圆或者是近似的同心圆时，霍夫梯度法的倾向是保留最大的一个圆。可以说这是一种比较极端的做法，因为在这里默认Sobel导数会产生噪声，若是对于无穷分辨率的平滑图像而言的话，这才是必须的。</p><h3>霍夫圆变换：HoughCircles()函数</h3><p>HoughCircles函数可以利用霍夫变换算法检测出灰度图中的圆。它和之前的HoughLines和HoughLinesP比较明显的一个区别是它不需要源图是二值的，而HoughLines和HoughLinesP都需要源图为二值图像。</p><pre class=\"kx_code\" contenteditable=\"false\" data-lang=\"c_cpp\">C++: void HoughCircles(InputArray image,OutputArray circles, int method, double dp, double minDist, double param1=100,double param2=100, int minRadius=0, int maxRadius=0 )</pre><ul><li><p>第一个参数，InputArray类型的image，输入图像，即源图像，需为8位的灰度单通道图像。&nbsp;&nbsp;&nbsp;</p></li><li><p>第二个参数，InputArray类型的circles，经过调用HoughCircles函数后此参数存储了检测到的圆的输出矢量，每个矢量由包含了3个元素的浮点矢量(x, y, radius)表示。&nbsp;&nbsp;&nbsp;</p></li><li><p>第三个参数，int类型的method，即使用的检测方法，目前OpenCV中就霍夫梯度法一种可以使用，它的标识符为CV_HOUGH_GRADIENT，在此参数处填这个标识符即可。&nbsp;&nbsp;&nbsp;</p></li><li><p>第四个参数，double类型的dp，用来检测圆心的累加器图像的分辨率于输入图像之比的倒数，且此参数允许创建一个比输入图像分辨率低的累加器。上述文字不好理解的话，来看例子吧。例如，如果dp= 1时，累加器和输入图像具有相同的分辨率。如果dp=2，累加器便有输入图像一半那么大的宽度和高度。&nbsp;&nbsp;&nbsp;</p></li><li><p>第五个参数，double类型的minDist，为霍夫变换检测到的圆的圆心之间的最小距离，即让我们的算法能明显区分的两个不同圆之间的最小距离。这个参数如果太小的话，多个相邻的圆可能被错误地检测成了一个重合的圆。反之，这个参数设置太大的话，某些圆就不能被检测出来了。&nbsp;&nbsp;&nbsp;</p></li><li><p>第六个参数，double类型的param1，有默认值100。它是第三个参数method设置的检测方法的对应的参数。对当前唯一的方法霍夫梯度法CV_HOUGH_GRADIENT，它表示传递给canny边缘检测算子的高阈值，而低阈值为高阈值的一半。&nbsp;&nbsp;&nbsp;</p></li><li><p>第七个参数，double类型的param2，也有默认值100。它是第三个参数method设置的检测方法的对应的参数。对当前唯一的方法霍夫梯度法CV_HOUGH_GRADIENT，它表示在检测阶段圆心的累加器阈值。它越小的话，就可以检测到更多根本不存在的圆，而它越大的话，能通过检测的圆就更加接近完美的圆形了。&nbsp;&nbsp;&nbsp;</p></li><li><p>第八个参数，int类型的minRadius,有默认值0，表示圆半径的最小值。&nbsp;&nbsp;&nbsp;</p></li><li><p>第九个参数，int类型的maxRadius,也有默认值0，表示圆半径的最大值。</p></li></ul><p>需要注意的是，使用此函数可以很容易地检测出圆的圆心，但是它可能找不到合适的圆半径。我们可以通过第八个参数minRadius和第九个参数maxRadius指定最小和最大的圆半径，来辅助圆检测的效果。或者，我们可以直接忽略返回半径，因为它们都有着默认值0，单单用HoughCircles函数检测出来的圆心，然后用额外的一些步骤来进一步确定半径。</p>","pics":[{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/465_81_20200613170413-1982866122.png?w=465&h=81&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/465_81_20200613170413-1982866122.png","rw":465,"rh":81,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/316_256_20200613170451-1927317474.png?w=316&h=256&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/316_256_20200613170451-1927317474.png","rw":316,"rh":256,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img01.sogoucdn.com/app/a/200698/290_133_20200613170925-442691320.png?w=290&h=133&titlename=","url":"https://img01.sogoucdn.com/app/a/200698/290_133_20200613170925-442691320.png","rw":290,"rh":133,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img03.sogoucdn.com/app/a/200698/290_125_20200613171012-1809327412.png?w=290&h=125&titlename=","url":"https://img03.sogoucdn.com/app/a/200698/290_125_20200613171012-1809327412.png","rw":290,"rh":125,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/375_363_20200613171152-1377141831.png?w=375&h=363&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/375_363_20200613171152-1377141831.png","rw":375,"rh":363,"title":"","alt":null,"width":0,"height":0},{"originalUrl":"https://img04.sogoucdn.com/app/a/200698/385_314_20200613180755-33636475.png?w=385&h=314&titlename=","url":"https://img04.sogoucdn.com/app/a/200698/385_314_20200613180755-33636475.png","rw":385,"rh":314,"title":"","alt":null,"width":0,"height":0}],"card":null,"references":[],"versionCount":0}],"references":[{"id":1,"type":"journal","title":"Use of the Hough Transformation to Detect Lines and Curves in Pictures","site":"","url":"","journalName":"Communications of the ACM","author":"Richard Duda， Peter Hart","press":"","publishYear":"","publishTime":"","publishPlace":"","page":"","volume":"","quoteTime":"2020-06-19","quoted":false},{"id":2,"type":"journal","title":"Generalizing the Hough transform to detect arbitrary shapes","site":"","url":"","journalName":"Pattern Recognition: The Journal of the Pattern Recognition Society","author":"D. H. Ballard","press":"","publishYear":"","publishTime":"","publishPlace":"","page":"","volume":"","quoteTime":"2020-06-19","quoted":false}],"recommendReferences":null,"auditState":2,"lemmaLevel":3,"origin":0,"originEnTitle":null,"originZhTitle":null,"pv":1822,"auditType":1,"synonyms":null,"showEditTime":"2020.06.19 11:23","auditors":[{"uid":81444079,"name":"张楠","pic":"https://cache.soso.com/wenwen/i/default-thumb.png","introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":"","jobBrief":"","role":0,"roleName":null,"title":"","professionalTitle":"无","phoneNo":null,"editable":true,"partnerId":229,"partnerIdCreateTime":1595845090,"partnerIdPoped":false},{"uid":78092093,"name":"小科","pic":"https://cache.soso.com/qlogo/g?b=oidb&k=JNl8ymKuOWiaqfJSUCQ5cag&s=100&t=1555468845","introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":"","jobBrief":"","role":0,"roleName":null,"title":"","professionalTitle":"","phoneNo":null,"editable":true,"partnerId":215,"partnerIdCreateTime":1595845047,"partnerIdPoped":true}],"hasZhishiNav":false,"auditInfos":{"0":[{"versionId":"0","auditTime":1594986168,"auditorId":81444079,"auditUser":{"uid":81444079,"name":"张楠","pic":"https://cache.soso.com/wenwen/i/default-thumb.png","introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":"","jobBrief":"","role":0,"roleName":null,"title":"","professionalTitle":"无","phoneNo":null,"editable":true,"partnerId":229,"partnerIdCreateTime":1595845090,"partnerIdPoped":false},"auditReason":null,"auditSuggest":"1.对词条的定义较为完善，但是理论方面相对有部分缺少，对广义霍夫变换以及其他相关内容可适量进行理论描述。\n2本文缺少.边缘检测后的二值化，通过找非零点的坐标确定数据点。从而对数据点进行霍夫变换。应给出相应的霍夫空间图。\n3.能进行的后处理可以进行举例。\n总体来说，本词条描述比较详尽，推荐为优秀词条。\n","auditResult":2,"auditAnnotations":[]},{"versionId":"0","auditTime":1595226416,"auditorId":78092093,"auditUser":{"uid":78092093,"name":"小科","pic":"https://cache.soso.com/qlogo/g?b=oidb&k=JNl8ymKuOWiaqfJSUCQ5cag&s=100&t=1555468845","introduction":null,"educations":null,"jobs":null,"works":null,"educationBrief":"","jobBrief":"","role":0,"roleName":null,"title":"","professionalTitle":"","phoneNo":null,"editable":true,"partnerId":215,"partnerIdCreateTime":1595845047,"partnerIdPoped":true},"auditReason":null,"auditSuggest":"根据其他评审员建议给予通过。感谢您对搜狗科学百科的贡献。","auditResult":2,"auditAnnotations":[]}]},"isHistory":false};</script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/aegis-sdk/latest/aegis.min.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/common/polyfill/main_2020092401.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/lib/react/17.0.2/react.production.min.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/lib/react/17.0.2/react-dom.production.min.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/lib/jquery/jquery-1.11.1.min.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/common/hhy/main_2022062701.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/deploy/new_baike/pc/general/main_66bbe21.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/lib/react/17.0.2/react.production.min.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/lib/react/17.0.2/react-dom.production.min.js"></script><script crossorigin="anonymous" src="//hhy.sogoucdn.com/js/deploy/new_baike/pc/detail/main_edf0f08.js"></script><div id="popControl"></div></body></html>